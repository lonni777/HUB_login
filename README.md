# Проект автотестів логіну (Playwright + Python)

Проект для написання автотестів логіну в систему з використанням Playwright та Python.

## Встановлення

1. Встановіть залежності:
```bash
pip install -r requirements.txt
```

2. Встановіть браузери для Playwright:
```bash
# Встановити всі браузери
playwright install

# Або встановити конкретні браузери:
playwright install chromium    # Chromium (за замовчуванням)
playwright install webkit      # Safari (WebKit)
playwright install firefox     # Firefox
```

3. Створіть файл `.env` з конфігурацією:
```bash
# Скопіюйте структуру з прикладу нижче та заповніть реальними даними
```

## Налаштування секретів

### Створення .env файлу

Для роботи тестів необхідно створити файл `.env` в корені проекту з конфігурацією.

**⚠️ ВАЖЛИВО:** 
- Файл `.env` не комітиться в Git (вже в `.gitignore`)
- Кожен розробник створює свій власний `.env` файл локально
- Секрети (логіни, паролі, URL) зберігаються тільки в `.env` файлі
- Для прикладу структури використовуйте файл `.env.example`

**Що потрібно налаштувати в `.env`:**
- URL системи для тестування
- Дані для логіну (email та пароль)
- URL після успішного логіну (опціонально)
- Дані для негативних тестів (опціонально)

Детальніше про управління секретами та структуру `.env` файлу див. [docs/SECRETS_MANAGEMENT.md](docs/SECRETS_MANAGEMENT.md)

## Запуск тестів

### Базові команди:

```bash
# Запуск всіх тестів (за замовчуванням на Chromium)
pytest

# Запуск з детальним виводом
pytest -v

# Запуск конкретного тесту
pytest tests/test_login.py::TestLogin::test_positive_login
```

### Кросс-браузерне тестування:

Проект підтримує тестування на різних браузерах:

```bash
# Запуск на Chromium (за замовчуванням)
pytest tests/test_login.py --browser chromium

# Запуск на Safari (WebKit)
pytest tests/test_login.py --browser webkit

# Запуск на Firefox
pytest tests/test_login.py --browser firefox

# Запуск з відкритим браузером (headed mode)
pytest tests/test_login.py --headed --browser webkit
```

**Підтримувані браузери:**
- ✅ **Chromium** (за замовчуванням)
- ✅ **Safari (WebKit)**
- ✅ **Firefox**

Всі тести автоматично працюють на всіх підтримуваних браузерах без змін в коді.

## Структура проекту

Проект використовує **Page Object Model (POM)** для кращої підтримки та масштабованості:

```
.
├── config/
│   ├── __init__.py
│   └── settings.py              # Управління конфігурацією та секретами
├── docs/
│   ├── SECRETS_MANAGEMENT.md    # Документація по управлінню секретами
│   └── PRE_RUN_CHECKLIST.md      # Чеклист перед запуском тестів
├── locators/
│   ├── __init__.py
│   └── login_locators.py         # Локатори для сторінки логіну
├── pages/
│   ├── __init__.py
│   ├── base_page.py             # Базовий клас для всіх сторінок
│   └── login_page.py             # Page Object для сторінки логіну
├── tests/
│   ├── __init__.py
│   └── test_login.py            # Тести логіну
├── conftest.py                   # Конфігурація pytest та фікстури
├── pytest.ini                   # Налаштування pytest
├── requirements.txt              # Залежності проекту
├── .env                          # Секрети (НЕ комітиться в Git)
└── README.md                     # Документація
```

## Архітектура проекту (Page Object Model)

### Переваги POM:
- ✅ **Локатори в одному місці** - легко оновлювати для всіх тестів одразу
- ✅ **Повторне використання коду** - методи сторінок використовуються в багатьох тестах
- ✅ **Легка підтримка** - зміни в UI вимагають оновлення тільки Page Objects
- ✅ **Чистий код тестів** - тести стають читабельнішими та зрозумілішими

### Компоненти:

1. **locators/** - містить всі селектори елементів
   - `login_locators.py` - локатори для сторінки логіну

2. **pages/** - містить Page Objects (класи для роботи зі сторінками)
   - `base_page.py` - базовий клас з загальними методами
   - `login_page.py` - методи для роботи зі сторінкою логіну

3. **tests/** - містить тести
   - Тести використовують Page Objects замість прямого використання локаторів

## Як це працює

1. **Конфігурація** завантажується з `.env` файлу через `config/settings.py`
2. **Локатори** зберігаються в `locators/` для легкого оновлення
3. **Page Objects** інкапсулюють логіку роботи зі сторінками
4. **Тести** використовують Page Objects для виконання дій
5. **Секрети** не зберігаються в коді, тільки в `.env` файлі
6. **Валідація** конфігурації відбувається автоматично при запуску тестів

## Оновлення локаторів

Якщо змінився селектор елемента на сторінці:
1. Відкрийте відповідний файл в `locators/` (наприклад, `locators/login_locators.py`)
2. Оновіть потрібний локатор
3. Всі тести автоматично використають новий локатор через Page Objects
