# Управління секретами для автотестів

## Загальне розуміння

Секрети (логіни, паролі, API ключі) **НІКОЛИ** не повинні зберігатися в коді або комітитися в Git. Вони зберігаються окремо та завантажуються під час виконання тестів.

## Принципи безпеки

1. ✅ **Секрети в .env файлі** - локально для розробки
2. ✅ **.env в .gitignore** - файл не потрапляє в репозиторій
3. ✅ **Змінні середовища** - для CI/CD пайплайнів
4. ✅ **Конфігураційні файли** - для різних середовищ (dev, test, prod)

## Структура рішення

```
HUB_login/
├── .env                    # Секрети (НЕ комітиться в Git)
├── .env.example           # Приклад структури (комітиться)
├── config/
│   └── settings.py        # Завантаження конфігурації
├── conftest.py            # Фікстури з конфігурацією
└── tests/
    └── test_login.py      # Тести використовують конфігурацію
```

## Як це працює

1. **Розробник** створює `.env` файл локально зі своїми секретами
2. **Код** читає змінні з `.env` через `python-dotenv`
3. **Git** ігнорує `.env` (вже в .gitignore)
4. **CI/CD** використовує змінні середовища з безпечного сховища

## Покрокова реалізація

### Крок 1: Створити .env.example (шаблон)
- Файл з прикладами структури (без реальних даних)
- Комітиться в Git як документація

### Крок 2: Створити config/settings.py
- Модуль для завантаження конфігурації
- Читає змінні з `.env` або змінних середовища
- Надає безпечний доступ до конфігурації

### Крок 3: Оновити conftest.py
- Додати фікстуру для конфігурації
- Завантажує налаштування один раз для всіх тестів

### Крок 4: Оновити test_login.py
- Використовує конфігурацію з фікстури
- Не містить жорстко закодованих секретів

### Крок 5: Створити .env (локально)
- Кожен розробник створює свій `.env`
- Копіює структуру з `.env.example`
- Заповнює реальними даними

## Безпека

- ❌ **НЕ** комітьте `.env` в Git
- ❌ **НЕ** діліться `.env` файлами через месенджери
- ✅ Використовуйте різні облікові записи для різних середовищ
- ✅ Для CI/CD використовуйте секрети з GitHub Secrets / GitLab CI Variables
